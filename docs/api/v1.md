# Spice API
## Version `v1`

All routes are prefixed with `/api/v1/`

Example: `GET localhost:1234/api/v1/processes`

## Host System Info

### `GET /filesystem/:path*`
Gets the file(s) within the given path

Path parameters:
 - `path` {string}: URL encoded path to a file or directory.  If empty, refers to the root directory.

Responses:
 - `200`:
    - Returns {[File](#File)}
 - `400`:
    - Returns {[Error](#Error)}: Invalid path.
 - `403`: 
    - Returns {[Error](#Error)}: Insufficient privileges to open file.
 - `404`: 
    - Returns {[Error](#Error)}: File doesn't exit.

### `GET /processes`
Gets the list of processes running on the host machine.

Responses:
 - `200`:
    - Returns {[Process](#Process)[]}
 - `403`:
    - Returns {[Error](#Error)}: Insufficient privileges to complete operation.

## Debug
All `/debug` routes are stateful--their responses are based on the currently attached process/executable.
If the debugger is not attached, they respond with `40somethin`.

### `POST /debug/attach/pid/:pid`
Returns status of attached pid, execution id of current function.

### `POST /debug/attach/bin/:path*`

### `GET /debug`
Returns information about the attached process or executable.

### `GET /debug/functions`
Returns a list of functions in the attached process.

### `GET /debug/functions/:function`
Returns source code and input fields for this function.

### `PUT /debug/functions/:function/breakpoints`
Sets a breakpoint on this function.

### `DELETE /debug/functions/:function/breakpoints`
Removes breakpoint on this function.

### `GET /debug/breakpoints`
Lists breakpoints.

### `POST /debug/functions/:function/execute`
Executes the function with parameters provided in POST body.
Returns an [execution id](#execution).

### `GET/debug/executions`
Returns list of all executions.

### `GET /debug/executions/:executionId`
Returns execution status (function, processing/done, execution time).

### `GET /debug/executions/:executionId/trace`
Returns execution status and trace data. If the execution is not finished, returns partial trace data (options
to stream trace with chunked encoding, maybe omit status).

## Object Definitions

### Error
```
{
   code {integer}: Unique code identifying this error type
   name {string}: Unique human readable name for this error type
   message {string}: Human readable error message
   data {object}: Data specific to this error. See [Error Codes](#error-codes) for specifics.
}
```


### File
```
{
    name {string}: Name of file
    path {string}: Path to file
    type {string}: File type ("file" or "directory")
    contents: {string|string[]}:
        If type="file", contents is a string of the base64 encoded file contents
        If type="directory", contents is an array of File names inside the directory
}
```

### Process
```
{
    id {int}: Identifying number of process on host machine
    name {string}: Name of process on host machine
}
```

### Execution
```
{
    id {int}: Unique Identifier
    otherInfo {object}: TODO Whatever other info, ask Russell 
}
```

## Error Codes
